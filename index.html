<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SelfieSpot ‚Äì Troms√∏</title>
  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Litt branding-farger
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: { DEFAULT: '#6366F1', dark: '#4F46E5' } // indigo
          },
          boxShadow: {
            card: '0 8px 30px rgba(0,0,0,.06)'
          }
        }
      }
    }
  </script>
</head>
<body class="min-h-screen bg-gray-50 text-gray-900 selection:bg-brand/20 selection:text-brand">
  <!-- NAV -->
  <nav class="sticky top-0 z-40 bg-white/70 backdrop-blur border-b">
    <div class="mx-auto max-w-6xl px-4 h-16 flex items-center justify-between">
      <a class="flex items-center gap-3" href="./">
        <img src="assets/logo.png" alt="SelfieSpot" class="w-8 h-8 rounded-lg object-cover"
             onerror="this.style.display='none'">
        <span class="text-xl font-semibold tracking-tight">SelfieSpot</span>
      </a>
      <div class="hidden sm:flex items-center gap-2 text-sm text-gray-500">
        <span class="hidden md:inline">Prototype</span>
        <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
        <span>Public</span>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="bg-gradient-to-b from-white to-gray-50">
    <div class="mx-auto max-w-6xl px-4 py-10 md:py-14">
      <div class="grid md:grid-cols-5 gap-8 items-center">
        <div class="md:col-span-3">
          <h1 class="text-4xl md:text-5xl font-bold tracking-tight leading-tight">
            Finn <span class="text-brand">beste selfie-spottene</span> i Troms√∏
          </h1>
          <p class="mt-3 text-gray-600 max-w-prose">
            Enkel demo med s√∏k, kort med bilder og direkte √•pning i Google Maps.
            Ingen innlogging, ingen app ‚Äì bare finn et sted og dra.
          </p>
          <div class="mt-5 flex gap-3">
            <a href="#app" class="inline-flex items-center gap-2 rounded-xl bg-brand px-4 py-3 text-white font-medium hover:bg-brand-dark">
              Start √• s√∏ke
            </a>
            <a target="_blank" href="https://www.google.com/maps?q=Troms√∏"
               class="inline-flex items-center gap-2 rounded-xl border px-4 py-3 hover:bg-white">
              Se Troms√∏ i Maps
            </a>
          </div>
        </div>
        <div class="md:col-span-2">
          <!-- hero-illustrasjon ‚Äì faller tilbake hvis bildet mangler -->
          <img src="assets/arctic.jpg" alt="" class="w-full h-56 md:h-64 rounded-2xl object-cover shadow-card"
               onerror="this.src='https://picsum.photos/seed/selfiespot/800/500'">
        </div>
      </div>
    </div>
  </header>

  <!-- APP -->
  <main id="app" class="mx-auto max-w-6xl px-4 pb-16">
    <!-- search -->
    <div class="mt-6 mb-5 flex flex-col md:flex-row gap-3">
      <input id="q" placeholder="S√∏k steder, f.eks. Troms√∏, sunset, mountain‚Ä¶"
             class="w-full rounded-2xl border px-5 py-3 outline-none focus:ring-2 focus:ring-brand bg-white shadow-sm">
      <button id="clearBtn"
              class="rounded-2xl border px-5 py-3 font-medium hover:bg-white active:scale-[.99]">
        Clear
      </button>
    </div>

    <!-- results -->
    <div id="list" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </main>

  <footer class="border-t bg-white/70">
    <div class="mx-auto max-w-6xl px-4 py-8 text-sm text-gray-500 flex items-center justify-between">
      <span>¬© SelfieSpot prototype</span>
      <span>No-build ¬∑ Tailwind CDN ¬∑ GitHub Pages</span>
    </div>
  </footer>

  <script>
    // --- DATA ---------------------------------------------------------------
    const spots = [
      {
        id: 1,
        name: "Arctic Cathedral View",
        city: "Troms√∏",
        rating: 4.8,
        tags:["Iconic","City"],
        lat:69.648, lng:18.956,
        img:"assets/arctic.jpg"
      },
      {
        id: 2,
        name: "Fjellheisen Plateau",
        city: "Troms√∏",
        rating: 4.9,
        tags:["Mountain","Sunset"],
        lat:69.649, lng:18.987,
        img:"assets/fjellheisen.jpg"
      },
      {
        id: 3,
        name: "Prestvannet Lake",
        city: "Troms√∏",
        rating: 4.6,
        tags:["Nature","Reflection"],
        lat:69.660, lng:18.930,
        img:"assets/prestvannet.jpg"
      },
      {
        id: 4,
        name: "Bryggejentene kaf√©",
        city: "Ersfjord",
        rating: 4.7,
        tags:["Kaf√©","Utsikt"],
        lat:69.706, lng:18.614,
        img:"assets/bryggejentene.jpg"
      }
    ];

    // --- FAVORITES (valgfritt) ---------------------------------------------
    const favKey = "selfiespot:favs";
    let favs = new Set(JSON.parse(localStorage.getItem(favKey) || "[]"));
    function toggleFav(id){
      favs.has(id) ? favs.delete(id) : favs.add(id);
      localStorage.setItem(favKey, JSON.stringify([...favs]));
      render();
    }

    // --- HELPERS ------------------------------------------------------------
    const list = document.getElementById('list');
    const q = document.getElementById('q');
    const clearBtn = document.getElementById('clearBtn');

    function badge(txt) {
      const s = document.createElement('span');
      s.className = "inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs font-medium bg-white shadow-sm";
      s.innerHTML = `<span>${txt}</span>`;
      return s;
    }

    function mapUrl(s) {
      return (s.lat && s.lng)
        ? `https://www.google.com/maps?q=${s.lat},${s.lng}`
        : `https://www.google.com/maps?q=${encodeURIComponent(s.name + ' ' + s.city)}`;
    }

    // Kort med bilde
    function card(s) {
      const d = document.createElement('article');
      d.className = "overflow-hidden rounded-3xl border bg-white shadow-card hover:shadow-lg transition";

      d.innerHTML = `
        <div class="relative h-44">
          <img class="absolute inset-0 w-full h-full object-cover"
               src="${s.img || ''}"
               onerror="this.src='https://picsum.photos/seed/${encodeURIComponent(s.name)}/800/500'">
          <div class="absolute inset-0 bg-gradient-to-t from-black/50 via-black/10 to-transparent"></div>
          <div class="absolute top-3 left-3 text-xs flex items-center gap-1 rounded-full bg-white/90 px-2 py-1">
            <span>‚≠ê</span><strong>${s.rating}</strong>
          </div>
          <a href="${mapUrl(s)}" target="_blank" rel="noopener"
             class="absolute bottom-3 right-3 rounded-xl bg-brand text-white text-sm px-3 py-1.5 hover:bg-brand-dark">
            Open in Maps
          </a>
        </div>

        <div class="p-4">
          <div class="flex items-start justify-between gap-3">
            <div>
              <h2 class="text-lg font-semibold leading-tight">${s.name}</h2>
              <p class="text-sm text-gray-500">${s.city}</p>
            </div>
            <button title="Save"
              class="shrink-0 rounded-full border w-9 h-9 grid place-items-center hover:bg-gray-50"
              onclick="toggleFav(${s.id})">
              ${favs.has(s.id)
                ? 'üíú'
                : 'ü§ç'}
            </button>
          </div>

          <div class="mt-3 flex flex-wrap gap-2"></div>

          <div class="mt-4 rounded-xl bg-gray-100 p-4 text-sm">
            <p><strong>Coordinates:</strong> ${('lat' in s && 'lng' in s) ? `${s.lat.toFixed(3)}, ${s.lng.toFixed(3)}` : 'N/A'}</p>
            <p class="text-gray-600">Tip: pr√∏v √• s√∏ke ‚Äúsunset‚Äù eller ‚Äúmountain‚Äù.</p>
          </div>

          <div class="mt-4 flex justify-end gap-2">
            <a href="${mapUrl(s)}" target="_blank" rel="noopener"
               class="rounded-xl border px-3 py-2 text-sm hover:bg-white">
              Open
            </a>
          </div>
        </div>
      `;

      // sett tags
      const tagRow = d.querySelectorAll('div.mt-3.flex.flex-wrap.gap-2')[0];
      (s.tags || []).forEach(t => tagRow.appendChild(badge(t)));
      return d;
    }

    // Render
    function render() {
      const term = (q.value || "").toLowerCase();
      list.innerHTML = '';
      const filtered = spots.filter(s =>
        [s.name, s.city, ...(s.tags||[])].join(' ').toLowerCase().includes(term)
      );
      if (!filtered.length) {
        const empty = document.createElement('div');
        empty.className = "col-span-full text-center text-gray-500 py-10";
        empty.textContent = "Ingen treff. Pr√∏v et annet s√∏k.";
        list.appendChild(empty);
        return;
      }
      filtered.forEach(s => list.appendChild(card(s)));
    }

    q.addEventListener('input', render);
    clearBtn.addEventListener('click', () => { q.value=''; render(); });
    render();
  </script>
</body>
</html>
