<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SelfieSpot ‚Äì Troms√∏</title>
  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-50 text-gray-900">
  <div class="mx-auto max-w-5xl px-4 py-10">
    <header class="mb-8">
      <h1 class="text-3xl md:text-4xl font-bold tracking-tight">SelfieSpot ‚Äì Troms√∏</h1>
      <p class="text-gray-600">Prototyp med noen f√• steder (inkl. Bryggejentene i Ersfjord).</p>
    </header>

    <div class="mb-6 flex flex-col md:flex-row gap-3">
      <input id="q" placeholder="Search Troms√∏ spots..."
             class="w-full rounded-xl border px-4 py-3 outline-none focus:ring-2 focus:ring-indigo-500">
      <button id="clearBtn"
              class="rounded-xl border px-4 py-3 font-medium hover:bg-gray-50 active:scale-[.99]">
        Clear
      </button>
    </div>

    <div id="list" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>

    <footer class="mt-12 text-center text-xs text-gray-500">
      <p>No-build prototype ¬∑ Tailwind CDN ¬∑ static GitHub Pages.</p>
    </footer>
  </div>

  <script>
    const spots = [
      { id: 1, name: "Arctic Cathedral View", city: "Troms√∏", rating: 4.8, tags:["Iconic","City"], lat:69.648, lng:18.956 },
      { id: 2, name: "Fjellheisen Plateau",   city: "Troms√∏", rating: 4.9, tags:["Mountain","Sunset"], lat:69.649, lng:18.987 },
      { id: 3, name: "Prestvannet Lake",      city: "Troms√∏", rating: 4.6, tags:["Nature","Reflection"], lat:69.660, lng:18.930 },

      // üÜï Ny spot ‚Äì Bryggejentene kaf√© i Ersfjord
      { id: 4, name: "Bryggejentene kaf√©", city: "Ersfjord", rating: 4.7, tags:["Kaf√©","Utsikt"], lat:69.706, lng:18.614 }
    ];

    const list = document.getElementById('list');
    const q = document.getElementById('q');
    const clearBtn = document.getElementById('clearBtn');

    function badge(txt) {
      const s = document.createElement('span');
      s.className = "inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium shadow-sm bg-white";
      s.textContent = txt;
      return s;
    }

    function card(s) {
      const d = document.createElement('div');
      d.className = "rounded-2xl border bg-white p-5 shadow-sm hover:shadow-md transition";
      d.innerHTML = `
        <div class="flex items-start justify-between gap-3">
          <div>
            <h2 class="text-lg font-semibold">${s.name}</h2>
            <p class="text-sm text-gray-500">${s.city}</p>
          </div>
          <div class="text-sm font-semibold" aria-label="rating">‚≠ê ${s.rating}</div>
        </div>
        <div class="mt-4 rounded-xl bg-gray-100 p-4 text-sm">
          <p><strong>Coordinates:</strong> ${s.lat.toFixed(3)}, ${s.lng.toFixed(3)}</p>
          <p class="text-gray-600">Tip: Try searching ‚Äúsunset‚Äù or ‚Äúmountain‚Äù.</p>
        </div>
        <div class="mt-4 flex justify-end gap-2">
          <button class="rounded-xl border px-3 py-2 text-sm hover:bg-gray-50">Save</button>
          <button
            class="rounded-xl bg-indigo-600 text-white px-3 py-2 text-sm hover:bg-indigo-700"
            onclick="window.open(
              (s.lat && s.lng)
                ? \`https://www.google.com/maps?q=\${s.lat},\${s.lng}\`
                : \`https://www.google.com/maps?q=\${encodeURIComponent(s.name + ' ' + s.city)}\`,
              '_blank'
            )">
            Open
          </button>
        </div>
      `;
      const tagRow = document.createElement('div');
      tagRow.className = "mt-3 flex flex-wrap gap-2";
      (s.tags || []).forEach(t => tagRow.appendChild(badge(t)));
      d.insertBefore(tagRow, d.children[1]);
      return d;
    }

    function render() {
      const term = (q.value || "").toLowerCase();
      list.innerHTML = '';
      const filtered = spots.filter(s =>
        [s.name, s.city, ...(s.tags||[])].join(' ').toLowerCase().includes(term)
      );
      if (filtered.length === 0) {
        const empty = document.createElement('div');
        empty.className = "mt-10 text-center text-gray-500 col-span-full";
        empty.textContent = "No results. Try a different search.";
        list.appendChild(empty);
        return;
      }
      filtered.forEach(s => list.appendChild(card(s)));
    }

    q.addEventListener('input', render);
    clearBtn.addEventListener('click', () => { q.value=''; render(); });
    render();
  </script>
</body>
</html>
